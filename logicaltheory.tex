\documentclass[main.tex]{subfiles}

\begin{document}
\onehalfspacing

\chapter{Logical Theories}

To start, we will consider the notion of a \emph{logical theory}; in
my mind, it begins with a species  of judgements that can be
proposed, asserted, and (if they are evident) known.

\section{Judgements of a logical theory}

The basic forms of judgement for a logical theory will be
\framebox{$\isprop{P}$} and \framebox{$\istrue{P}$}; and what is $P$?  It is a
member of the species of terms, which are made meaningful in the course of
making the judgement $\isprop{P}$ (``$P$ is a proposition'') evident for a
proposition $P$.

The forms of judgement may be construed as containing
\InputMode{\textit{inputs}} and \OutputMode{\textit{outputs}}; an
\InputMode{\textit{input}} is something which is inspected in the course of
knowing a judgement, whereas an \OutputMode{\textit{output}} is something which
is synthesized (or created) in the course of knowing a judgement. The positions
of \InputMode{\textit{inputs}} and \OutputMode{\textit{outputs}} in a judgement
constitute what is called its \emph{mode}, and we color-code it in this
presentation for clarity.\footnote{We will not see any judgements with
  \OutputMode{\textit{outputs}} at first, but it will become necessary as soon
  as we consider judgements about computation, where the reduction of a term is
synthesized from the redex. Modes may be used to construe a judgement as having
algorithmic content.}

To each judgement is assigned a \emph{meaning explanation}, which explicates
the knowledge-theoretic content of the judgement. For a judgement
$\mathcal{J}$, a meaning explanation should be in the form:

\begin{quote}
  To know $\mathcal{J}$ is to know...
\end{quote}

The meaning of the judgement $\isprop{P}$ is, then, as follows:

\begin{quote}
  To know $\isprop{P}$ is to know that $P$ is a proposition, which is to know
  what would count as a direct verification of $P$.
\end{quote}

So if a symbol $P$ is taken to denote a proposition, we must know
\emph{what sort of thing} is to be taken as a direct verification of
$P$, and this is understood as part of the definition of $P$. A
``direct verification'' is understood in constrast with an ``indirect
verification'', which is to be thought of as a means or plan for
verifying the proposition; these distinctions will be explained in
more detail later on. Now, the judgement $\istrue{P}$ (``$P$ is
true'') is only meaningful in case we know $\isprop{P}$ (this is
called a presupposition). Then the meaning of $\istrue{P}$ is as
follows:

\begin{quote}
  To know $\istrue{P}$ is to have a verification of $P$.
\end{quote}

From the (implicit) presupposition $\isprop{P}$, we already know what
counts as a verification, so the meaning explanation is
well-defined. Note that having a means or plan for verifying $P$ is
equivalent to having a (direct) verification; this follows from the
fact that one may put into action a plan for verifying $P$ and achieve
such a verification, and likewise, it is possible to propound a plan
of verification by appeal to an existing verification.

\section{Higher-order judgements}

The judgements we have described so far are ``categorical'' in the sense that
they are made without assumption or generality.

\subsection{Hypothetical judgement}

We will need to define a further form of judgement, which is called
``hypothetical'', and this is the judgement under hypothesis
\framebox{$\hyp{\mathcal{J}}{\mathcal{J}'}$}, pronounced
``$\mathcal{J}$ under the assumption $\mathcal{J}'$''.Its meaning
explanation is as follows:

\begin{quote}
  To know the judgement $\hyp{\mathcal{J}}{\mathcal{J}'}$ is to know
  the judgement $\mathcal{J}$ assuming you know the
  judgement $\mathcal{J}'$.
\end{quote}

Hypothetical judgement may be iterated, and
$\hyp{\mathcal{J}}{\mathcal{J}_1,\mathcal{J}_2}$ will be used as notation for
for $\hyp{\hyp{\mathcal{J}}{\mathcal{J}_2}}{\mathcal{J}_1}$.

\subsection{General judgement}

Another kind of higher order judgement is ``general judgement'', which
is judgement with respect to a variable,
\framebox{$\genj{x}{\mathcal{J}}$}, pronounced ``for an arbitrary $x$,
$\mathcal{J}$''. The meaning explanation for this new judgement is as
follows:

\begin{quote}
  To know the judgement $\genj{x}{\mathcal{J}}$ is, to know
$[E/x]\mathcal{J}$ (i.e. the substitution of $E$ for $x$ in the
expression $\mathcal{J}$) for any arbitrary expression $E$,
\footnote{Technically, $E$ is qualified as being of the same valence
as $x$, but because we have not developed a formal theory of
expressions in this presentation, I choose to ignore this issue.}
\end{quote}

As far as notation is concerned, the bar symbol binds the least
tightly of all the other notations we have considered. Likewise,
general judgement may be iterated, and the notation
$\genj{x,y}{\mathcal{J}}$ will be used as notation for
$\genj{x}{\genj{y}{\mathcal{J}}}$.

\subsection{Hypothetico-general judgement}

When hypothetical judgement is used inside general judgement, as in
$\genj{x}{\hyp{\istrue{A(x)}}{\istrue{B(x)}}}$, we term the whole
thing a ``hypothetico-general'' judgement. One thing bears clarifying,
which is, Why do we write $\hyp{\istrue{P}}{\istrue{P}}$ rather than
$\genj{P}{\hyp{\istrue{P}}{\istrue{P}}}$?

The former is really not a single judgement, but rather a
\emph{scheme} for judgements, where $P$ is intended to be replaced
with a concrete expression by the person asserting the judgements. On
the other hand, the latter is itself a single judgement which may be
asserted all on its own.

\section{Propositions and verifications}
Now that we have propounded and explained the minimal system of judgements for
a logical theory, let us populate it with propositions. First, we have falsity
$\bot$, and we wish to make $\isprop{\bot}$ evident; to do this, we simply state
what counts as a direct verification of $\bot$: there is no
direct verification of $\bot$.

The next basic proposition is trivial truth $\top$, and to make
$\isprop{\top}$ evident, we state that a direct verification of $\top$
is trivial. The definition of $\top$ thus validates the judgement
$\istrue{\top}$ (i.e. that we have a verification of $\top$; this
is immediate).

Next, let us define conjunction; in doing so, we will make evident the
hypothetical judgement $\hyp{\isprop{P\land Q}}{\isprop{P},\isprop{Q}}$;
equivalently, we can display this as a rule of inference:\footnote{
Evident hypothetical judgements are often written as rules, i.e.
\[
  \infer{\textit{conclusion}}{\textit{premise}}
\]
rather than $\hyp{\textit{conclusion}}{\textit{premise}}$. It must be
stressed that only \emph{evident}/\emph{known} judgements may be
written in this way.
}
\[
  \infer{
    \isprop{P\land Q}
  }{
    \isprop{P} &
    \isprop{Q}
  }
\]

A direct verification of $P\land Q$ consists in a verification of $P$
and a verification of $Q$; this validates the assertion of the judgement
$\hyp{\istrue{P\land Q}}{\istrue{P},\istrue{Q}}$. Because it is a valid
inference, we can write it as an inference rule:
\[
  \infer{
    \istrue{P\land Q}
  }{
    \istrue{P} &
    \istrue{Q}
  }
\]

A direct verification of $P\lor Q$ may be got either from a verification
of $P$ or one of $Q$. From this definition we know $\hyp{\isprop{P\lor
Q}}{\isprop{P},\isprop{Q}}$, or
\[
  \infer{
    \isprop{P\lor Q}
  }{
    \isprop{P} &
    \isprop{Q}
  }
\]
The verification conditions of disjunction give
rise to two evident judgements $\hyp{\istrue{P\lor Q}}{\istrue{P}}$ and
$\hyp{\istrue{P\lor Q}}{\istrue{Q}}$, which we can write as inference rules:
\begin{gather*}
  \infer{
    \istrue{P\lor Q}
  }{
    \istrue{P}
  }
  \qquad
  \infer{
    \istrue{P\lor Q}
  }{
    \istrue{Q}
  }
\end{gather*}

Finally, we must define the circumstances under which $P\supset Q$ is
a proposition (i.e.\ when $\isprop{P\supset Q}$ is evident). And we
intend this to be under the circumstances that $P$ is a proposition,
and also that $Q$ is a proposition assuming that $P$ is true. In other
words, $\hyp{\isprop{P\supset Q}}{\isprop{P},
\hyp{\isprop{Q}}{\istrue{P}}}$, or
\[
  \infer{
    \isprop{P\supset Q}
  }{
    \isprop{P} &
    \hyp{\isprop{Q}}{\istrue{P}}
  }
\]

Now, to validate this judgement will be a bit more complicated than the
previous ones. But by unfolding the meaning explanations for hypothetical
judgement, proposition-hood and truth of a proposition, we arrive at the
following explanation:
\begin{quote}
  To know $\hyp{\isprop{P\supset Q}}{\isprop{P},\hyp{\isprop{Q}}{\istrue{P}}}$
  is to know what counts as a direct verification of $P\supset Q$ when one
  knows what counts as a direct verification of $P$, and, when one has such a
  verification, what counts as a direct verification of $Q$.\footnote{Note that
  unless $\istrue{P}$, it need not be evident that $\isprop{Q}$; in other
  words, $Q$ only has to be a proposition if $P$ is true. It would also be
  acceptable to give a stronger definition to implication, but this is the one
  accepted by Martin-L\"of.}
\end{quote}


If the judgement $\hyp{\isprop{P\supset
Q}}{\isprop{P},\hyp{\isprop{Q}}{\istrue{P}}}$ is going to be made evident, then
we must come up with what should count as a direct verification of $P\supset Q$
under the assumptions described above.

And so to have a direct verification of $P\supset Q$ is to have a
verification of $Q$ assuming that one has one of $P$; this is the
meaning of implication, and it validates the judgement
$\hyp{\istrue{P\supset Q}}{\hyp{\istrue{Q}}{\istrue{P}}}$, and may be
written as an inference rule as follows:
\[
  \infer{
    \istrue{P\supset Q}
  }{
    \hyp{\istrue{Q}}{\istrue{P}}
  }
\]

\section{Judgements for verifications}

So far, we have given judgements which define what it means to be a
proposition, namely $\isprop{P}$, and thence for each proposition, we
have by definition a notion of what should count as a verification of
that proposition. And we have a judgement $\istrue{P}$, which in its
assertion means that one has (a way to obtain) such a verification of
$P$, but we have not considered any judgements which actually refer to
the verifications themselves symbolically.

It is a hallmark of Martin-L\"of's program to resolve the
contradiction between syntax and semantics not by choosing symbols
over meanings or meanings over symbols, but by endowing symbols with
meaning in the course of knowing the evident judgements. \textbf{As
such, $P$ is a symbol, but when we assert $\isprop{P}$ we are saying
that we know what proposition $P$ denotes.}

A similar thing can be done with verifications themselves, by
representing them with symbols in the same way we have done for the
propositions. And then, we can consider a judgement such as ``$M$ is a
verification of $P$'', and in knowing that judgement, we know what
verification $M$ is meant to denote. In practice, this judgement has
been written in several ways:\\[10pt]
\begin{tabular}{c|l}
  Notation & Pronunciation \\ \hline
  $\InputMode{M}\in \InputMode{P}$ & $M$ is an element of $P$\\
  $\InputMode{M}\Vdash \InputMode{P}$ & $M$ realizes $P$\\
  $\InputMode{P}\ {\color{Gray}\llcorner\mathsf{ext}\;} \OutputMode{M}{\color{Gray}\lrcorner}$ & $P$ is witnessed by $M$
\end{tabular}\\

But they all mean the same thing, so we will choose the notation
\framebox{$\ver{M}{P}$} and pronounce it ``$M$ verifies $P$''. Tentatively, the
following defective meaning explanation could be given:
\begin{quote}
  * To know $\ver{M}{P}$ is to know that $M$ is a verification of $P$.
\end{quote}

But now that we have started to assign expressions to verifications,
we must be more careful about differentiating \emph{direct
verifications} (which we will call ``canonical'') from \emph{indirect
verifications} (which we will call ``non-canonical''). So the domain
of expressions must itself be accorded with a notion of reduction to
canonical form, and this corresponds with putting into action a plan
of verification in order to get a direct (canonical) verification;
reduction to canonical form will be represented by a judgement
\framebox{$\reduce{M}{M'}$}, pronounced ``$M$ evaluates to $M'$''.

\begin{quote}
  To know $\reduce{M}{M'}$ is to know that $M$ is an expression which reduces to
  a canonical form $M'$.
\end{quote}

An example of an evident reduction judgement in elementary mathematics
would be $\reduce{3+4}{7}$; note that $\reduce{3+4}{1+6}$ is, on the
other hand, not evident, since this judgement describes reduction to
\emph{canonical} form, whereas $1+6$ is not a canonical number.

Now, we can correct the previous meaning explanation as follows:

\begin{quote}
  To know $\ver{M}{P}$ is to know an $M'$ such that $\reduce{M}{M'}$ and $M'$ is a
  canonical (direct) verification of $P$.
\end{quote}

If it is not yet clear why it would have been a mistake to fail to use
the notion of reduction to canonical form in the above meaning
explanation, consider that each time a proposition is defined, it
should be possible to do so without knowing what other propositions
exist in the theory. But if we consider non-canonical forms (as would
be necessary if we omitted the $\reduce{M}{M'}$ premise), then we
would have to fix in advance all the possible non-canonical forms in
the computation system in the course of defining each proposition. As
such, the open-ended nature of the logic would be destroyed; in a
later chapter, the seriousness of this problem will be made even more
clear.


The meaning explanation for $\isprop{P}$ must be accordingly modified to take
into account the computational behavior of expressions:

\begin{quote}
  To know $\isprop{P}$ is to know a $P'$ such that $\reduce{P}{P'}$ and $P'$ is a
  canonical proposition, which is to say, that one knows what counts as a
  canonical verification for $P'$.
\end{quote}

In practice, when it is clear that $P$ is canonical, then we will simply say,
``To know $\isprop{P}$ is to know what counts as a canonical verification of
$P$''. As an example, then, we will update the evidence of the following assertion:
\[\hyp{\isprop{P\supset Q}}{\isprop{P},\hyp{\isprop{Q}}{\isprop{P}}}
\]
The meaning
of this, expanded into spoken language, is as follows:
\begin{quote}
  To know $\hyp{\isprop{P\supset
Q}}{\isprop{P},\hyp{\isprop{Q}}{\isprop{P}}}$ is to know what counts
  as a canonical (direct) verification of $P\supset Q$ under the
  circumstances that $\reduce{P}{P'}$, such that one knows what counts
  as a canonical verification $P'$, and, if one has such a verification,
  $\reduce{Q}{Q'}$ such that one knows what counts as a canonical
  verification of $Q'$.
\end{quote}

And the above judgement is evident, since we will say that a canonical
verification of $P\supset Q$ is an expression $\lambda x. E$ such that
we know the hypothetico-general judgement
$\genj{x}{\hyp{\ver{E}{Q}}{\ver{x}{P}}}$. This validates the assertion
$\hyp{\ver{\lambda x.E}{P\supset
Q}}{\genj{x}{\hyp{\ver{E}{Q}}{\ver{x}{P}}}}$, or, written as an
inference rule:

%
\[
  \infer{
    \ver{\lambda x.E}{P\supset Q}
  }{
    \genj{x}{\hyp{\ver{E}{Q}}{\ver{x}{P}}}
  }
\]

By the addition of this judgement, we have graduated from a logical theory to a
type theory, in the sense of \emph{Constructive Mathematics and Computer
Programming} (Martin-L\"of, 1979). In fact, we may dispense with the original
$\istrue{P}$ form of judgement by \emph{defining} it in terms of the new
$\ver{M}{P}$ judgement as follows:
\[
  \infer{
    \istrue{P}
  }{
    \ver{M}{P}
  }
\]

%% TODO: add this to a sidebar somehow
%% Further forms of judgement, such as assertions of equality between propositions
%% and verifications, may be added, as Martin-L\"of does. However, this is not
%% strictly necessary as they too may be defined in terms of the $\ver{M}{P}$
%% judgement in the presence of an \emph{equality} proposition; this is what is
%% done in Constable et al's Computational Type Theory, which has only one
%% primitive form of judgement.

\end{document}
